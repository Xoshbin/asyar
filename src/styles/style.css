@import "tailwindcss";

:root {
  border-radius: 12px;
}

@media (prefers-color-scheme: dark) {
  :root {
    --bg-primary: rgb(
      22 26 22 / 0.99
    ); /* darker background for better contrast */
    --bg-hover: rgb(35 40 35 / 0.6); /* more visible hover state */
    --bg-selected: rgb(45 50 45 / 0.7); /* stronger selected state */
    --text-primary: rgb(235 240 235); /* brighter primary text */
    --text-secondary: rgb(190 195 190); /* brighter secondary text */
    --border-color: rgb(70 75 70 / 0.5); /* more visible borders */
    background-color: var(--bg-primary);
  }

  .back-button {
    @apply text-[#B8BDB8] hover:text-[#EBF0EB];
  }

  .search-input {
    @apply text-[#EBF0EB] placeholder-[#989D98];
  }

  .result-title {
    @apply text-[#EBF0EB];
  }

  .result-subtitle {
    @apply text-[#B8BDB8];
  }
}

@media (prefers-color-scheme: light) {
  :root {
    --bg-primary: rgb(236 239 236 / 0.99); /* soft greenish grey */
    --bg-hover: rgb(220 225 220 / 0.5); /* slightly darker greenish grey */
    --bg-selected: rgb(200 207 200 / 0.4); /* medium greenish grey */
    --text-primary: rgb(68 77 68); /* deep greenish grey */
    --text-secondary: rgb(108 117 108); /* medium greenish grey text */
    --border-color: rgb(190 197 190 / 0.4); /* subtle border */
    background-color: var(--bg-primary);
  }

  .back-button {
    @apply text-[#8A958A] hover:text-[#5A645A];
  }

  .search-input {
    @apply text-[#444D44] placeholder-[#A5AFA5];
  }

  .result-title {
    @apply text-[#444D44];
  }

  .result-subtitle {
    @apply text-[#8A958A];
  }
}

@layer components {
  .app-layout {
    @apply min-h-screen flex flex-col;
  }

  .search-header {
    @apply fixed inset-x-0 top-0 z-50 border-b-[0.5px] border-gray-400/20;
  }

  .search-input {
    @apply w-full text-lg outline-none bg-transparent px-8 py-5 transition-colors text-[var(--text-primary)] disabled:opacity-50;
    color: var(--text-primary);
    &::placeholder {
      color: var(--text-secondary);
    }
  }

  .back-button {
    @apply absolute left-3 top-1/2 -translate-y-1/2 cursor-pointer z-10 text-gray-400 hover:text-white transition-colors flex items-center gap-2;
  }

  .result-item {
    @apply w-full text-left px-8 py-4 flex flex-col gap-1.5 cursor-pointer 
           transition-all duration-150 ease-in-out
           border-b-[0.5px] border-gray-700/20 last:border-0 
           hover:bg-gray-700/10;
  }

  .result-title {
    @apply text-white;
  }

  .result-subtitle {
    @apply text-gray-400 text-sm;
  }

  .selected-result {
    @apply bg-gray-700/20 shadow-sm;
  }

  /* Button Component */
  .btn {
    @apply inline-flex items-center justify-center p-2 transition-all duration-150
           border border-[var(--border-color)] hover:border-[var(--text-secondary)]
           hover:bg-[var(--bg-hover)] disabled:opacity-50 disabled:hover:border-[var(--border-color)]
           rounded-sm;
  }

  .btn-full {
    @apply w-full;
  }

  /* Input Component */
  .input {
    @apply w-full p-2 outline-none bg-transparent
           text-[var(--text-primary)] placeholder-[var(--text-secondary)]
           border border-[var(--border-color)] hover:border-[var(--text-secondary)]
           disabled:opacity-50 transition-colors rounded-sm;
  }

  /* List Components */
  .split-view {
    @apply h-[calc(100vh-72px)] flex flex-col overflow-hidden;
  }

  .split-view-content {
    @apply flex-1 flex;
  }

  .split-view-left {
    @apply overflow-y-auto border-r border-[var(--border-color)];
  }

  .split-view-right {
    @apply flex-1 overflow-y-auto;
  }

  /* Replace scrollbar styles */
  .custom-scrollbar {
    @apply overflow-y-auto;

    &:hover {
      background-color: var(--bg-hover);
    }

    &:active {
      transform: scale(0.98);
    }

    &:focus-visible {
      outline: 2px solid var(--accent-primary);
      outline-offset: 1px;
    }

    &:disabled {
      @apply opacity-50 cursor-not-allowed;
    }
  }

  /* Primary button */
  .btn-primary {
    @apply bg-[var(--accent-primary)] text-white;

    &:hover {
      filter: brightness(0.95);
    }

    &:active {
      filter: brightness(0.9);
    }
  }

  /* Success button */
  .btn-success {
    @apply bg-[var(--accent-success)] text-white;

    &:hover {
      filter: brightness(0.95);
    }
  }

  /* Danger button */
  .btn-danger {
    @apply bg-[var(--accent-danger)] text-white;

    &:hover {
      filter: brightness(0.95);
    }
  }

  .btn-full {
    @apply w-full;
  }

  /* Input Component - With Apple's design principles */
  .input {
    @apply w-full py-2 px-3 rounded-md outline-none bg-[var(--bg-secondary)]
           text-[var(--text-primary)] placeholder-[var(--text-tertiary)]
           border border-[var(--border-color)];

    &:focus {
      border-color: var(--accent-primary);
      box-shadow: 0 0 0 1px var(--accent-primary);
    }

    &:disabled {
      @apply opacity-50 cursor-not-allowed;
    }
  }

  /* List Components */
  .split-view {
    @apply h-[calc(100vh-72px)] flex flex-col overflow-hidden;
  }

  .split-view-content {
    @apply flex-1 flex;
  }

  .split-view-left {
    @apply overflow-y-auto border-r border-[var(--separator)];
    background-color: var(--bg-secondary);
  }

  .split-view-right {
    @apply flex-1 overflow-y-auto;
  }

  /* Divider resizing handle */
  .split-view-handle {
    @apply w-1 hover:w-2 cursor-ew-resize hover:bg-[var(--accent-primary)] 
           transition-all z-10;
  }

  /* Enhanced scrollbar styles - Apple-like subtle scrollbars */
  .custom-scrollbar {
    @apply overflow-y-auto;

    &::-webkit-scrollbar {
      width: 8px;
    }

    &::-webkit-scrollbar-track {
      @apply bg-transparent;
    }

    &::-webkit-scrollbar-thumb {
      @apply rounded-full;
      background-color: var(--separator);

      &:hover {
        background-color: var(--text-tertiary);
      }
    }

    /* For Firefox */
    scrollbar-width: thin;
    scrollbar-color: var(--separator) transparent;
  }

  /* Badge styling - Apple-style rounded badges */
  .badge {
    @apply inline-flex items-center px-1.5 py-0.5 rounded-full text-xs font-medium;
  }

  .badge-primary {
    background-color: var(--bg-tertiary);
    color: var(--accent-primary);
  }

  .badge-secondary {
    background-color: var(--bg-tertiary);
    color: var(--text-secondary);
  }

  .badge-success {
    background-color: var(--bg-tertiary);
    color: var(--accent-success);
  }

  .badge-warning {
    background-color: var(--bg-tertiary);
    color: var(--accent-warning);
  }

  .badge-danger {
    background-color: var(--bg-tertiary);
    color: var(--accent-danger);
  }

  /* Card styling with Apple-like rounded shapes */
  .card {
    @apply rounded-xl border border-[var(--separator)] bg-[var(--bg-secondary)]
           transition-shadow duration-200;
    box-shadow: 0 1px 2px var(--shadow-color);

    &:hover {
      box-shadow: 0 2px 4px var(--shadow-color);
    }
  }

  .card-elevated {
    background-color: var(--bg-primary);
    box-shadow: 0 2px 6px var(--shadow-color);

    &:hover {
      box-shadow: 0 4px 8px var(--shadow-color);
    }
  }

  /* Keyboard shortcut styling - Apple-style key caps */
  .keyboard-shortcut {
    @apply px-1 py-0.5 text-xs rounded font-medium bg-[var(--bg-tertiary)]
           text-[var(--text-secondary)];
  }
}
